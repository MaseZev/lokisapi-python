# Changelog

Все значимые изменения в этом проекте будут документированы в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
и этот проект придерживается [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [1.0.0] - 2025-01-XX

### Added
- **Первый релиз** библиотеки LokisApi Python
- **Чат-комплетации** с поддержкой GPT и Gemini моделей
- **Генерация изображений** с помощью DALL-E моделей
- **Редактирование изображений** с поддержкой DALL-E моделей
- **Thinking режим** для Gemini 2.5 моделей с настройкой thinking_budget
- **Reasoning Effort** для GPT-5 моделей с уровнями LOW, MEDIUM, HIGH
- **Стриминг ответов** для чат-комплетаций в реальном времени
- **Автоматическое получение моделей** из API с кэшированием
- **Умное управление моделями** - фильтрация по категориям и возможностям
- **Кэширование моделей** с настраиваемой длительностью и сохранением на диск
- **Расширенная обработка ошибок** с детальными исключениями
- **Утилиты для работы с изображениями** - кодирование, декодирование, изменение размера
- **Утилиты для работы с моделями** - форматирование информации, оценка токенов
- **Полная совместимость** с LokisApi endpoints
- **Поддержка всех моделей** без необходимости обновления библиотеки
- **Подробная документация** и примеры использования

### Enhanced
- **Сообщения об ошибках**: Более описательные сообщения с контекстом
- **Информация о моделях**: Автоматическое определение возможностей моделей
- **Сетевая обработка**: Улучшенная обработка таймаутов и ошибок соединения
- **Совместимость с API**: Полная совместимость с LokisApi endpoints

### Новые типы исключений
- `AuthenticationError`: Ошибка аутентификации (неверный API ключ)
- `ModelNotFoundError`: Запрашиваемая модель не найдена
- `ModelNotSupportedError`: Модель не поддерживает запрашиваемую функцию
- `QuotaExceededError`: Превышены квоты
- `TokenLimitError`: Превышены лимиты токенов
- `RequestLimitError`: Превышены лимиты запросов
- `ServiceUnavailableError`: Сервис временно недоступен
- `ImageProcessingError`: Ошибка обработки изображения
- `ValidationError`: Ошибка валидации входных данных
- `NetworkError`: Сетевая ошибка

### Новые методы клиента
- `get_thinking_models()`: Получить модели с поддержкой thinking
- `get_image_models()`: Получить модели для генерации/редактирования изображений
- `get_text_models()`: Получить модели для текстовых задач
- `get_models_by_category()`: Получить модели по категориям
- `refresh_models_cache()`: Принудительно обновить кэш моделей
- `clear_models_cache()`: Очистить кэш моделей
- `get_models_cache_info()`: Получить информацию о кэше

### Управление моделями
- Автоматическое получение моделей из API
- Интеллектуальное кэширование с сохранением на диск
- Резервное использование кэшированных моделей при недоступности API
- Настраиваемая длительность кэша (по умолчанию: 1 час)
- Автоматическое определение возможностей моделей

### Улучшения обработки ошибок
- Детальный контекст ошибок и метаданные
- Автоматический парсинг заголовка retry-after
- Определение типа лимита (RPM, TPM, RPD и т.д.)
- Обработка сетевых таймаутов
- Обработка ошибок соединения
- Определение доступности сервиса

### Обратная совместимость
- Все существующие методы остаются без изменений
- Сохранено поведение по умолчанию
- Опциональные параметры для новых функций
- Плавный переход к статической конфигурации моделей

### Производительность
- Сокращение API вызовов через интеллектуальное кэширование
- Более быстрый поиск моделей
- Постоянный кэш между сессиями
- Автоматическая инвалидация кэша
